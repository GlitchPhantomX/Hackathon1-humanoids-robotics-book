# API Contract: Urdu Translation Service

## Endpoint
```
POST /api/translate
```

## Request Schema
```json
{
  "chapter_id": {
    "type": "string",
    "description": "Unique identifier for the chapter being translated",
    "example": "01-ros2/03-services-actions"
  },
  "source_language": {
    "type": "string",
    "description": "Source language code",
    "example": "en",
    "pattern": "^[a-z]{2}$"
  },
  "target_language": {
    "type": "string",
    "description": "Target language code",
    "example": "ur",
    "pattern": "^[a-z]{2}$"
  },
  "content": {
    "type": "string",
    "description": "Original markdown content to translate",
    "example": "# Introduction to ROS2\n\nROS2 is a framework..."
  }
}
```

## Response Schema
```json
{
  "translated_content": {
    "type": "string",
    "description": "Translated markdown content",
    "example": "# متعارف ROS2\n\nROS2 ایک فریم ورک ہے..."
  },
  "cached": {
    "type": "boolean",
    "description": "Whether response came from cache",
    "example": false
  },
  "error": {
    "type": "string",
    "description": "Error message if translation failed (optional)",
    "example": "Translation service unavailable"
  }
}
```

## Authentication
- Requires valid user session
- Returns 401 Unauthorized if session is invalid

## Error Responses
- `400 Bad Request`: Invalid request parameters
- `401 Unauthorized`: User not authenticated
- `408 Request Timeout`: Translation service timeout
- `500 Internal Server Error`: Translation service error

## Caching
- Cache key: `{user_id}:{chapter_id}:{target_language}`
- TTL: 24 hours
- Cache hit returns response with `cached: true`