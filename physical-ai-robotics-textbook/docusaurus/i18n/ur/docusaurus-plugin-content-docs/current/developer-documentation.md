# ڈیولپر دستاویزات: ملٹی لینگوئج ترجمہ سسٹم

## آرکیٹیکچر جائزہ

ملٹی لینگوئج ترجمہ سسٹم ایک ری ایکٹ/ڈوکوسورس ایپلی کیشن کے طور پر تعمیر کیا گیا ہے جس میں ایک فاسٹ ای پی بیک اینڈ ہے۔ آرکیٹیکچر تصدیق کی انضمام اور پیشگی ترجمہ شدہ مواد کی ترسیل کے ساتھ کلائنٹ-سرور ماڈل پر مبنی ہے۔

### سسٹم کمپوننٹس

```
┌─────────────────┐    ┌──────────────────┐    ┌─────────────────┐
│   فرنٹ اینڈ     │    │   بیک اینڈ       │    │  ترجمہ         │
│   (ڈوکوسورس)   │◄──►│   (فاسٹ ای پی)   │◄──►│   (JSON فائلز)│
│                 │    │                  │    │                 │
│ • زبان          │    │ • تصدیق سیشن   │    │ • پیشگی ترجمہ  │
│   کنٹیکسٹ      │    │   API            │    │   JSON فائلز    │
│ • زبان          │    │ • ترجمہ         │    │ • اردو اور      │
│   ٹوگل         │    │   API            │    │   عربی مواد     │
│ • ترجمہ         │    │ • صارف ترجیح    │    │                 │
│   لوڈنگ       │    │   API            │    │                 │
└─────────────────┘    └──────────────────┘    └─────────────────┘
```

### ٹیکنالوجی اسٹیک

- **فرنٹ اینڈ**: ری ایکٹ 18، ٹائپ سکرپٹ، ڈوکوسورس 3.x
- **بیک اینڈ**: پائی تھون، فاسٹ ای پی
- **تصدیق**: سیشن بیسڈ تصدیق
- **فونٹس**: نوٹو نسٹلیق اردو (خود ہوسٹڈ)، نوٹو نسکھ عربی (گوگل فونٹس)
- **ٹیسٹنگ**: جیسٹ، ری ایکٹ ٹیسٹنگ لائبریری، axe-core
- **ترجمہ فارمیٹ**: JSON کے ساتھ محفوظ HTML سٹرکچر

## کمپوننٹ دستاویزات

### LanguageContext

LanguageContext ایپلی کیشن میں زبان کے انتخاب کے لیے عالمی سٹیٹ مینجمنٹ فراہم کرتا ہے۔

#### انٹرفیس
```typescript
interface LanguageContextType {
  language: 'en' | 'ur' | 'ar';
  setLanguage: (lang: 'en' | 'ur' | 'ar') => void;
  isAuthenticated: boolean;
  loading: boolean;
  error: string | null;
}
```

#### فعالیت
- موجودہ زبان کی حالت کا انتظام کرتا ہے
- ماؤنٹ پر تصدیق کی حیثیت چیک کرتا ہے
- localStorage سے محفوظ کردہ زبان کی ترجیح لوڈ کرتا ہے
- تصدیق کے تحفظات کے ساتھ زبان سوئچنگ کو ہینڈل کرتا ہے
- لوڈنگ اور خامی کی حالتیں فراہم کرتا ہے

#### استعمال
```typescript
import { useLanguage } from '@site/src/context/LanguageContext';

const MyComponent = () => {
  const { language, setLanguage, isAuthenticated } = useLanguage();

  return (
    <div>
      موجودہ زبان: {language}
      {isAuthenticated && <button onClick={() => setLanguage('ur')}>اردو میں سوئچ کریں</button>}
    </div>
  );
};
```

### LanguageToggle کمپوننٹ

LanguageToggle نیو بار میں زبان کے انتخاب کے لیے ڈراپ ڈاؤن انٹرفیس فراہم کرتا ہے۔

#### پراپس
- کوئی ضروری نہیں (LanguageContext استعمال کرتا ہے)

#### خصوصیات
- زبان کے ساتھ فلیگ ایموجی دکھاتا ہے
- تمام معاون زبانوں کے ساتھ ڈراپ ڈاؤن
- تصدیق کے آگاہ (لاگ ان نہیں ہونے پر غیر فعال)
- ARIA-مطابق قابل رسائی ایٹریبیوٹس
- کی بورڈ نیویگیشن کی حمایت
- RTL-آگاہ پوزیشننگ

#### اسٹائلنگ
- سکوپڈ اسٹائلز کے لیے CSS ماڈیولز استعمال کرتا ہے
- تمام اسکرین سائز کے لیے ریسپانسیو ڈیزائن
- ہموار ٹرانزیشنز اور ہوور ایفیکٹس
- ڈراپ ڈاؤن پوزیشننگ کے لیے مناسب RTL سپورٹ

### TranslatedContent کمپوننٹ

TranslatedContent کمپوننٹ ترجمہ شدہ مواد کو لوڈ کرنے اور ڈسپلے کرنے کو ہینڈل کرتا ہے۔

#### پراپس
```typescript
interface TranslatedContentProps {
  children: React.ReactNode;
  chapterId: string;  // مثال کے طور پر "00-introduction/index"
}
```

#### فعالیت
- موجودہ زبان کے مطابق ڈائنا مکلی طور پر ترجمہ JSON لوڈ کرتا ہے
- لوڈنگ اور خامی کی حالتیں ہینڈل کرتا ہے
- اصل HTML سٹرکچر اور CSS کلاسز کو محفوظ رکھتا ہے
- کارکردگی کے لیے کیش کا استعمال کرتا ہے
- ترجمہ ناکام ہونے پر انگریزی مواد پر واپس جاتا ہے

#### لائف سائیکل
1. چیک کرتا ہے کہ موجودہ زبان انگریزی ہے (ترجمہ کی ضرورت نہیں)
2. ترجمہ JSON فائل لوڈ کرنے کی کوشش کرتا ہے
3. فیچ کے دوران لوڈنگ سٹیٹ ڈسپلے کرتا ہے
4. ترجمہ شدہ HTML کے ساتھ مواد اپ ڈیٹ کرتا ہے
5. انگریزی پر واپس جانے کے ساتھ خامیوں کو ہینڈل کرتا ہے

## API دستاویزات

### تصدیق API

#### GET /api/auth/session
چیک کریں کہ صارف تصدیق شدہ ہے۔

**ریکویسٹ:**
```
GET /api/auth/session HTTP/1.1
Host: localhost:8001
Cookie: session=xxx
```

**ریسپانس (200 OK):**
```json
{
  "isAuthenticated": true,
  "user": {
    "id": "user_abc123",
    "email": "user@example.com",
    "name": "John Doe",
    "createdAt": "2025-12-01T00:00:00Z"
  }
}
```

**ریسپانس (401 Unauthorized):**
```json
{
  "isAuthenticated": false
}
```

### ترجمہ API

#### POST /api/translation/translate
OpenAI GPT-4 استعمال کرتے ہوئے مواد کا ترجمہ کریں۔

**ریکویسٹ:**
```
POST /api/translation/translate HTTP/1.1
Host: localhost:8001
Content-Type: application/json
Cookie: session=xxx

{
  "content": "<h1>اصل مواد</h1><p>ترجمہ کے لیے متن</p>",
  "source_lang": "en",
  "target_lang": "ur",
  "chapter_id": "00-introduction/index"
}
```

**ریسپانس (200 OK):**
```json
{
  "success": true,
  "translated_content": "<h1>مترجم مواد</h1><p>ترجمہ شدہ متن</p>",
  "target_lang": "ur",
  "chapter_id": "00-introduction/index",
  "processing_time": 1250
}
```

#### GET /api/translation/available-languages
دستیاب ترجمہ زبانوں کو حاصل کریں۔

**ریسپانس:**
```json
{
  "languages": [
    {
      "code": "en",
      "name": "English",
      "nativeName": "English",
      "direction": "ltr"
    },
    {
      "code": "ur",
      "name": "Urdu",
      "nativeName": "اردو",
      "direction": "rtl"
    },
    {
      "code": "ar",
      "name": "Arabic",
      "nativeName": "العربية",
      "direction": "rtl"
    }
  ]
}
```

### صارف ترجیحات API

#### GET /api/user/preferences
صارف کی محفوظ کردہ زبان کی ترجیح حاصل کریں۔

**ریسپانس:**
```json
{
  "language": "ur",
  "theme": "dark",
  "notifications": true,
  "lastUpdated": "2025-12-15T10:30:00Z"
}
```

#### POST /api/user/preferences
صارف کی زبان کی ترجیح محفوظ کریں۔

**ریکویسٹ:**
```json
{
  "language": "ur"
}
```

**ریسپانس:**
```json
{
  "success": true,
  "preferences": {
    "language": "ur",
    "theme": "dark",
    "notifications": true,
    "lastUpdated": "2025-12-15T10:30:00Z"
  }
}
```

## ترجمہ فائل سٹرکچر

### JSON اسکیما
```typescript
interface TranslationFile {
  meta: {
    title: string;              // ترجمہ شدہ صفحہ کا عنوان
    description: string;        // ترجمہ شدہ تفصیل
    language: 'ur' | 'ar';      // ہدف زبان
    chapter: string;            // باب کی شناخت
    sourceFile: string;         // اصل .md فائل پاتھ
    lastUpdated: string;        // ISO تاریخ سٹرنگ
    translator: string;         // "OpenAI GPT-4" یا دستی
    reviewedBy?: string;        // اختیاری جائزہ دہندہ
  };

  content: {
    headings: Record<string, string>;     // ID → ترجمہ شدہ ہیڈنگ
    paragraphs: Record<string, string>;   // ID → ترجمہ شدہ پیراگراف
    lists: Record<string, string[]>;      // ID → ترجمہ شدہ فہرست ایٹمز
    tables?: Record<string, TableData>;   // ID → ترجمہ شدہ ٹیبل
    codeComments?: Record<string, string>; // ID → ترجمہ شدہ تبصرے
  };

  html: string;  // مکمل ترجمہ شدہ HTML (مرکزی مواد)
}
```

### مثال ترجمہ فائل
```json
{
  "meta": {
    "title": "فزیکل اے آئی اور ہیومنائیڈ روبوٹکس کا تعارف",
    "description": "فزیکل اے آئی اور ہیومنائیڈ روبوٹکس کے ساتھ شروعات",
    "language": "ur",
    "chapter": "00-introduction",
    "sourceFile": "00-introduction/index.md",
    "lastUpdated": "2025-12-15T00:00:00Z",
    "translator": "OpenAI GPT-4"
  },
  "content": {
    "headings": {
      "introduction": "فزیکل اے آئی اور ہیومنائیڈ روبوٹکس کا تعارف",
      "learning-objectives": "سیکھنے کے مقاصد"
    },
    "paragraphs": {
      "intro-p1": "فزیکل اے آئی اور ہیومنائیڈ روبوٹکس ٹیکس بک کے تعارفی ماڈیول میں خوش آمدید۔"
    },
    "lists": {
      "learning-objectives": [
        "فزیکل اے آئی اور ہیومنائیڈ روبوٹکس کے ساتھ اس کے تعلق کی تعریف کریں",
        "ہیومنائیڈ روبوٹ سسٹم کے اہم اجزاء کو سمجھیں"
      ]
    }
  },
  "html": "<h1 class='main-heading' id='introduction'>فزیکل اے آئی اور ہیومنائیڈ روبوٹکس کا تعارف</h1><div class='underline-class'></div>..."
}
```

## RTL نافذ کاری

### CSS حکمت عملی
سسٹم CSS سمتیت اور مخصوص RTL اسٹائلز کا استعمال کرتے ہوئے RTL سپورٹ نافذ کرتا ہے:

```css
/* بنیادی RTL اسٹائلز */
[dir='rtl'] {
  text-align: right;
}

/* کوڈ اور ڈائیگرامز کے لیے LTR کو محفوظ رکھیں */
[dir='rtl'] pre,
[dir='rtl'] code,
[dir='rtl'] .mermaid,
[dir='rtl'] .codeBlockContainer {
  direction: ltr !important;
  text-align: left !important;
}
```

### فونٹ لوڈنگ
- اردو: نوٹو نسٹلیق اردو (خود ہوسٹڈ @font-face کے ساتھ)
- عربی: نوٹو نسکھ عربی (گوگل فونٹس فونٹ ڈسپلے: سویپ کے ساتھ)
- دونوں فونٹ ڈسپلے: سویپ کا استعمال کرتے ہیں لوڈنگ کے دوران نظر نہ آنے والے متن کو روکنے کے لیے

## کارکردگی کی اصلاح

### کیش کی حکمت عملی
- ترجمہ JSON فائلز براؤزر میں کیش کی گئی
- زبان کی کنٹیکسٹ اسٹیٹ localStorage میں کیش کی گئی
- تصدیق کی حیثیت 5 منٹ کے لیے کیش کی گئی
- ترجمہ فائلز مناسب HTTP ہیڈرز کے ساتھ کیش کی گئی

### کوڈ سپلٹنگ
- ترجمہ کمپوننٹس کو آن ڈیمنڈ لوڈ کیا گیا
- زبان کی مخصوص وسائل کو صرف ضرورت کے وقت لوڈ کیا گیا
- ٹری شیکنگ کے ساتھ بندل سائز بہتر بنایا گیا

## شراکت گائیڈ

### نئے ابواب شامل کرنا

1. **اصل مواد بنائیں**: ڈاکس ڈائریکٹری میں انگریزی میں اپنے نئے باب کو شامل کریں۔

2. **ترجمہ ڈائریکٹریز بنائیں**: ہر نئے باب کے لیے، تمام زبانوں کے فولڈرز میں مطابق ڈائریکٹریز بنائیں:
   ```
   src/translations/en/new-chapter/
   src/translations/ur/new-chapter/
   src/translations/ar/new-chapter/
   ```

3. **ترجمہ فائلز جنریٹ کریں**: اسکیما سٹرکچر کے مطابق JSON ترجمہ فائلز بنائیں۔ آپ ترجمہ اسکرپٹ استعمال کر سکتے ہیں یا دستی طور پر جنریٹ کر سکتے ہیں۔

4. **انضمام ٹیسٹ کریں**: اگر یہ ایک مرکزی مواد کا صفحہ ہے تو اسے TranslatedContent کمپوننٹ کے ساتھ ریپ کریں۔

### نئی زبانیں شامل کرنا

1. **زبان کنفیگریشن اپ ڈیٹ کریں**: زبان کنفیگریشن میں نئی زبان شامل کریں فرنٹ اینڈ اور بیک اینڈ دونوں میں۔

2. **فونٹ سپورٹ شامل کریں**: نئی زبان کے لیے مناسب فونٹ فائلز یا CDN لنکس شامل کریں۔

3. **RTL سپورٹ اپ ڈیٹ کریں**: نئی زبان کے لیے مناسب RTL/LTR ہینڈلنگ کو یقینی بنائیں۔

4. **ترجمہ فائلز بنائیں**: نئی زبان میں تمام موجودہ مواد کے لیے ترجمہ فائلز بنائیں۔

### ترقی کا ورک فلو

1. **ماحول سیٹ اپ کریں**:
   ```bash
   cd physical-ai-robotics-textbook/docusaurus
   npm install
   ```

2. **ڈیولپمنٹ سرور شروع کریں**:
   ```bash
   npm run start
   ```

3. **بیک اینڈ API**: یقینی بنائیں کہ بیک اینڈ سرور `http://localhost:8001` پر چل رہا ہے

4. **ٹیسٹنگ**: تبدیلیاں کرنے سے پہلے ٹیسٹ چلائیں:
   ```bash
   npm test
   ```

### کوڈ معیارات

- ٹائپ سیفٹی کے لیے ٹائپ سکرپٹ استعمال کریں
- ری ایکٹ بہترین طریقے کے مطابق کام کریں
- قابل رسائی کی تسلیم (WCAG 2.1 AA) برقرار رکھیں
- نئی خصوصیات کے لیے جامع ٹیسٹ لکھیں
- عوامی API اور انٹرفیسز کو دستاویز کریں
- کمپوننٹ اسٹائلنگ کے لیے CSS ماڈیولز استعمال کریں
- ترجمہ میں اصل HTML سٹرکچر اور CSS کلاسز کو محفوظ رکھیں

### سیکورٹی کے خیالات

- تمام ترجمہ API اینڈ پوائنٹس کو تصدیق کی ضرورت ہوتی ہے
- تمام صارف فراہم کردہ مواد پر ان پٹ کی توثیق
- API اینڈ پوائنٹس پر ریٹ لیمنٹ
- ترجمہ مواد کی مناسب صفائی
- محفوظ سیشن مینجمنٹ

## ماحول کی متغیرات

ڈوکوسورس ڈائریکٹری میں ایک `.env` فائل بنائیں:
```bash
OPENAI_API_KEY=your_openai_api_key_here
AUTH_API_URL=http://localhost:8001
```

## ٹیسٹنگ کی حکمت عملی

### یونٹ ٹیسٹ
- LanguageContext فعالیت
- LanguageToggle کمپوننٹ انٹرایکشنز
- TranslatedContent لوڈنگ لاگک
- افادیت فنکشنز

### انٹیگریشن ٹیسٹ
- تصدیق فلو انضمام
- ترجمہ لوڈنگ
- API کمیونیکیشن
- اسٹیٹ مینجمنٹ

### اختتام سے اختتام تک ٹیسٹ
- مکمل صارف ورک فلو
- زبان سوئچنگ
- مواد رینڈرنگ
- قابل رسائی خصوصیات

## ڈیپلومنٹ کے خیالات

- ترجمہ JSON فائلز کو اسٹیٹک طور پر سرور کیا جانا چاہیے
- فونٹ فائلز کو مناسب طریقے سے ہوسٹ کیا جانا چاہیے
- بیک اینڈ API قابل رسائی ہونا چاہیے
- تصدیق سسٹم کام کرنا چاہیے
- کیش ہیڈرز کو مناسب طریقے سے کنفیگر کیا جانا چاہیے

---

*آخری اپ ڈیٹ: دسمبر 2025*